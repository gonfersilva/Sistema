{% extends "layout.html "%} 
{% load bootstrap3 %}
{% block title %}Picagem de bobines | {{ block.super }}{% endblock %}
{% block content %}
<div class="container">
   
    <div class="container">
        <div class="row">
            
            <div class="col-md-6">
                <h1>Palete nº {{ palete.num }}-2020</h1>
                <h2>Palete: {{ palete.cliente.nome }}</h2>
            </div>
            <div class="col-md-6">
                <h3>Nº de bobines total: {{ palete.num_bobines }}</h3>
                <h3>Largura das bobines: {{ palete.largura_bobines }}</h3>
                <h3>Core das bobines: {{ palete.core_bobines }}</h3>
            </div>
        </div>
       
    </div>
    <br>
    <br>
    
    <div class="container">
        <form method="post">
            <div class="row">
                    <a href="{% url 'producao:palete_list_all' %}" class="btn btn-primary pull-left" role="button">Voltar</a>
                    
                    <input type="submit" class="btn btn-primary pull-right" value="Validar">
            </div>
            <div class="row">
                   
                <div class="col-md-6">
                    {% csrf_token %}
                    {{ formset.management_form }}
                    <table>
                        {% for form in formset %}
                          <h2> {{ forloop.counter }} {% bootstrap_form form %}</h2>
                            
                        {% endfor %}
                    </table>
                    <br>
                    <br>
                    
                    
                </div>
                <div class="col-md-6">
                    {% if messages %}
                    <ul class="messages">
                        {% for message in messages %}
                        <li class="{{ message.tags }}" id="error">{{ message }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>


            </div>
            <div class="row">
                <div class="col-md-3">

                </div>
                <div class="col-md-6">
                    
                    
                </div>
                <div class="col-md-3">

                </div>
            </div>
            
          
        </form>
        
    </div>


</div>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
    crossorigin="anonymous">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
  $(document).keydown(function(e) {

        // Set self as the current item in focus
        var self = $(':focus'),
            // Set the form by the current item in focus
            form = self.parents('form:eq(0)'),
            focusable;

        // Array of Indexable/Tab-able items
        focusable = form.find('input,a,select,button,textarea').filter(':visible');

        function enterKey(){
        if (e.which === 13 && !self.is('textarea')) { // [Enter] key

            // If not a regular hyperlink/button/textarea
            if ($.inArray(self, focusable) && (!self.is('a')) && (!self.is('button'))){
            // Then prevent the default [Enter] key behaviour from submitting the form
            e.preventDefault();
            } // Otherwise follow the link/button as by design, or put new line in textarea

            // Focus on the next item (either previous or next depending on shift)
            focusable.eq(focusable.index(self) + (e.shiftKey ? -1 : 1)).focus();

            return false;
        }
        }
        // We need to capture the [Shift] key and check the [Enter] key either way.
        if (e.shiftKey) { enterKey() } else { enterKey() }
});


  

</script>

{% endblock %}